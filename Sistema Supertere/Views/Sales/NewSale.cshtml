
@{
    ViewBag.Title = "NewSale";
}




<h3 class="text-center">
    <span style="display: inline-block">Nueva Venta:&nbsp;&nbsp;</span><span>
        <select class="form-control text-right" id="salestate">
            <option value="0">Efectivo</option>
            <option value="1">Cta. Corriente</option>
            <option value="3">Tarjeta</option>
        </select>
    </span>
</h3>

<table class="table table-condensed table-bordered">
    <thead >
        <tr class="text-center">
            <th class="text-center">
                N° Venta
            </th>
            <th class="text-center">
                Cliente
            </th>
            <th class="text-center">
                Fecha
            </th>
           
        </tr>
    </thead>
    <tbody>
    <td class="text-center">
       @ViewBag.nsale
    </td>
    <td class="text-center">
        <select class="js-example-basic-single" id="customername">
            <option value="0">Seleccionar Cliente...</option>
            @foreach (var item in ViewBag.Customers)
            {
                <option value="@item.IdCustomer">@item.CustomerName</option>
            }
        </select>
    </td>
    <td class="text-center">
        <input type="date" class="panel-info form-control" id="saledate" value="@DateTime.Now.ToString("yyyy-MM-dd")" placeholder="dd/mm/aaaa"/>
    </td>
   
    </tbody>

</table>


<legend style="margin-bottom: 2px;">
    Listado Productos
</legend>
<table id="tablaprod" class="table table-condensed table-bordered">
    <thead class="tableStyle">
    <tr class="text-center">
        <th class="text-center">
            Producto
        </th>
        <th class="text-center">
            Precio($)
        </th>
        <th class="text-center">
            Cantidad
        </th>

        <th class="text-center">
            Total($)
        </th>
        <th class="text-center">
            Acción
        </th>
    </tr>
    </thead>
    <tbody id="last">
    <td>
        <select class="js-example-basic-single" id="linedescription" onchange="javacript: var valor = this.options[selectedIndex].text; document.getElementById('shadow').value = valor;">
            <option value="0">Seleccionar Producto...</option>
            @foreach (var item in ViewBag.Products)
            {
                <option value="@item.IdProduct">@item.IdProduct - @item.ProductDescription</option>
            }
        </select>
        <input type="hidden" id="shadow" value="">
    </td>
    <td>
        <input type="text" class="panel-info form-control " id="lineprice" onFocus="this.select()" @*onchange="totallinea(); fquantity()" oninput="totallinea()" onkeypress="solonumerosptocoma(); enterToSave();"*@/>
    </td>
    <td>
        <input type="number" class="panel-info form-control " value="1" id="linequantity" onFocus="this.select()" @*onchange="totallinea()" oninput="totallinea()" onkeypress="solonumerosptocoma(); enterToSave();"*@/>
    </td>

    <td>
        <input type="text" class="panel-info text-center " value="0.00" id="linetotal" readonly="readonly"/>
    </td>
    <td>
        <button type="button" id="add" class="btn btn-success btn-sm" value="Agregar" style="bottom: auto"/>Agregar
        <span class="glyphicon glyphicon-plus"></span>
    </td>

    </tbody>


</table>

<legend style="margin-bottom: 2px;">
    Resumen
</legend>
<table class="table table-condensed  table-bordered">

    <thead class="">
        <tr class="text-right">
            <td class="text-center">
                Observaciones
            </td>
            <td class="text-center">
                Total
            </td>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <textarea type="text" class="panel-info form-control" id="comments" onFocus="this.select()" placeholder=""></textarea>
            </td>
            <td>
                <input type="text" class="panel-info text-center" value="0.00" id="saletotal" placeholder="" readonly="readonly" />
            </td>
        </tr>

    </tbody>

</table>
<div class="text-center">
    <button type="button" id="submit" class="btn btn-success btn-md" value="Guardar venta">
        Guardar
        <span class="glyphicon glyphicon-floppy-disk"></span>
    </button>
    <button type="button" id="imprimir" class="btn btn-success btn-md" value="Guardar venta">
        Guardar e Imprimir
        <span class="glyphicon glyphicon-floppy-disk"></span>
    </button>
</div>



@section Scripts{
    <script>
        
        $(document).ready(function() {
          
            $(".js-example-basic-single").select2();

         
        });


    </script>
}